<div class="bg-image"></div>

<div id="sticky" *ngIf="api.isLoggedIn()">
	<div class="topnav g-grd">
		<a [ngClass]="{'button': true, 'active': page == 'home', 'ish': true }" (click)="openPage('home'); page = 'home';">
			<mat-icon navbar style="font-size: 36px;">home</mat-icon>
			Home
		</a>
		<a [ngClass]="{'button': true, 'active': page == 'goals', 'ish': true }" (click)="openPage('goals'); page = 'goals';">
			<mat-icon navbar style="font-size: 36px;">star</mat-icon>
			Goals
		</a>
		<a [ngClass]="{'button': true, 'active': page == 'notes', 'ish': true }" (click)="openPage('notes'); page = 'notes';">
			<mat-icon navbar style="font-size: 36px;">event_note</mat-icon>
			Notes
		</a>
		<a [ngClass]="{'button': true, 'active': page == 'learn', 'ish': true }" (click)="openPage('learn'); page = 'learn';">
			<mat-icon navbar style="font-size: 36px;">school</mat-icon>
			Learn
		</a>
		<div [ngClass]="{'dash': quote}">
			<div class="topnav-right" *ngIf="quote || innerWidth > 750">
				<a (click)="openPage('profile')" class="button">
					<mat-icon navbar>face</mat-icon>
					{{(user | async)?.data.first_name}}
				</a>

				<button mat-icon-button [matMenuTriggerFor]="noti" style="background: white; margin: 5px;">
					<mat-icon navbar matBadge="4" matBadgeColor="warn">notifications</mat-icon>
				</button>
				<button mat-icon-button [matMenuTriggerFor]="menu" style="background: white; margin: 5px;">
					<mat-icon>more_vert</mat-icon>
				</button>

				<mat-menu #noti="matMenu">
					<button mat-menu-item>
						<mat-icon>clear</mat-icon>
						<span>Clear All</span>
					</button>
					<button mat-menu-item>
						<span>Havnt checked in for today</span>
					</button>
					<button mat-menu-item>
						<span>Need to get that thing done</span>
					</button>
					<button mat-menu-item>
						<span>Need to get that thing done</span>
					</button>
					<button mat-menu-item>
						<span>Need to get that thing done</span>
					</button>
				</mat-menu>

				<mat-menu #menu="matMenu">
					<button mat-menu-item>
						<mat-icon>settings</mat-icon>
						<span>Settings</span>
					</button>
					<button mat-menu-item>
						<mat-icon>create</mat-icon>
						<span>Feedback</span>
					</button>
					<button mat-menu-item>
						<mat-icon>event_note</mat-icon>
						<span>About</span>
					</button>
					<button mat-menu-item>
						<mat-icon>account_box</mat-icon>
						<span (click)="openPage('login'); logout()">Log Out</span>
					</button>
				</mat-menu>
			</div>

			<a *ngIf="quote" class="g-light" (click)="newMessage()" style="width: 100%; position: absolute; bottom: 30px; right: 0; font-size: 24px;">
				{{(motivMess | async)?.description}}
			</a>

			<h2 *ngIf="quote" class="glow-red expbar_lvl">Lvl {{((user | async)?.data.exp_points - ((user | async)?.data.exp_points %
				1000)) / 1000}} Weeb!</h2>
			<ngb-progressbar *ngIf="quote" [value]="(api.getUser() | async)?.data?.exp_points % 1000" type="info" class="expbar"></ngb-progressbar>
			<p *ngIf="quote" class="glow-blue expbar_text">
				{{(user | async)?.data.exp_points % 1000}} / 1000
				{{exp}}
			</p>

			<button class="btn-primary" style="width: 100%;  top: 64px; position: absolute; left:0;" *ngIf="!quote" (click)="quote = !quote">
				<mat-icon>expand_more</mat-icon>
			</button>
			<button class="btn-primary" style="width: 100%;  bottom: 0; position: absolute; left:0;" *ngIf="quote" (click)="quote = !quote; newMessage();">
				<mat-icon>expand_less</mat-icon>
			</button>
		</div>


	</div>


</div>

<div class="container-fluid sup-page-container">
	<router-outlet></router-outlet>
</div>